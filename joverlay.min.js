$.fn.joverlay=function(a){var a=$.extend({close:!0,closeText:"Закрыть",closeClass:""},a);return this.each(function(){var b=$(this),c=b.attr("href"),d=""+a.closeClass+" joverlay-close",e=function(){var a=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),b=$("<div>").css({width:"100%"}).appendTo(a).outerWidth();return a.remove(),100-b}();$(c).hasClass("joverlay-box")||($(c).wrapInner('<div class="joverlay-tb"><div class="joverlay-td"><div class="joverlay-main"></div><div class="joverlay-shadow"></div></div></div>').addClass("joverlay-box"),1==a.close&&$(".joverlay-main",c).prepend('<div class="'+d+'">'+a.closeText+"</div>")),$(b).on("click",function(){return $(".joverlay-box").hide(),$(c).show(),$("body").addClass("hidden").css({paddingRight:e}),!1}),$(".joverlay-close, .joverlay-shadow",c).on("click",function(){$(c).hide(),$("body").removeClass("hidden").css({paddingRight:0})})})};
